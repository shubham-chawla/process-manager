!function(e){var n={};function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)t.d(r,a,function(n){return e[n]}.bind(null,a));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/dist/",t(t.s=10)}([function(e,n){e.exports=require("react")},function(e,n){e.exports=require("styled-components")},function(e,n){e.exports=require("react-sortable-hoc")},function(e,n){e.exports=require("react-icons/fa")},function(e,n){e.exports=require("express")},function(e,n){e.exports=require("path")},function(e,n){e.exports=require("react-dom/server")},function(e,n){e.exports=require("array-move")},function(e,n,t){},function(e,n){e.exports=require("fs")},function(e,n,t){"use strict";t.r(n);var r=t(4),a=t.n(r),o=t(0),i=t.n(o),c=t(6),u=t.n(c),l=t(1),s=t.n(l),d=(t(8),t(2)),f=t(7),p=t.n(f),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e+"-"+(new Date).getTime()},g=t(3);function b(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function v(){var e=y(["\n    display: flex;\n    padding: 5px;\n    border: ",";\n    border-radius: 2px;\n    width: 30px;\n    height: 30px;\n    justify-content: center;\n    align-items: center;\n"]);return v=function(){return e},e}function h(){var e=y(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    padding: 10px;\n    background: #fff;\n    border-bottom: 1px solid #d7d7d7;\n    &:last-child {\n        border-bottom: none;\n    }\n    .grab {\n        cursor: grab;\n    }\n"]);return h=function(){return e},e}function y(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var x=Object(d.SortableHandle)(function(){return i.a.createElement(g.FaBars,{className:"regular solid grab"})}),O=s.a.div(h()),w=s.a.div(v(),function(e){return e.showBorder&&"1px solid #d7d7d7"}),E=Object(d.SortableElement)(function(e){var n=e.data,t=e.deleteProcess,r=e.addChildren,a=e.updateProcess,c=b(Object(o.useState)(!1),2),u=c[0],l=c[1],s=b(Object(o.useState)(n.name),2),d=s[0],f=s[1],p=b(Object(o.useState)(!1),2),m=p[0],v=p[1],h=b(Object(o.useState)(""),2),y=h[0],E=h[1];return i.a.createElement("div",{className:"fcol"},i.a.createElement(O,null,i.a.createElement("div",{className:"detail frow center"},i.a.createElement(w,{className:"margin-r-5"},i.a.createElement(x,null)),u?i.a.createElement(z,{autoFocus:!0,value:d,onChange:function(e){return f(e.target.value)},onBlur:function(){return l(!u)},onKeyDown:function(e){"Enter"===e.key&&e.target.value.length&&(a(n,e.target.value.trim()),l(!u))}}):i.a.createElement("span",{className:"regular",onClick:function(){return l(!u)}},n.name)),i.a.createElement("div",{className:"actions frow align-items"},i.a.createElement(w,{showBorder:!0,className:"margin-r-5"},i.a.createElement(g.FaTrashAlt,{className:"regular solid pointer",onClick:function(){t(n)}})),i.a.createElement(w,{showBorder:!0},m?i.a.createElement(g.FaMinus,{className:"regular solid pointer",onClick:function(){return v(!m)}}):i.a.createElement(g.FaPlus,{className:"regular solid pointer",onClick:function(){return v(!m)}})))),m&&i.a.createElement(z,{value:y,onChange:function(e){return E(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&e.target.value.length&&(r(n,e.target.value.trim()),E(""))},placeholder:"enter a child process"}),n.has_child&&n.children.map(function(e,n){return i.a.createElement(O,{className:"margin-l-20",key:n},e.name)}))});function j(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function S(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?j(t,!0).forEach(function(n){P(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function P(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function N(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function k(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function C(){var e=D(["\n    background-color: blue;\n    color: #fff;\n    width: 100%;\n    height: 100%;\n    font-size: 22px;\n"]);return C=function(){return e},e}function A(){var e=D(["\n    display: flex;\n    width: 500px;\n    height: 70px;\n    padding: 10px;\n    background-color: #fff;\n    border: 1px solid #d7d7d7;\n"]);return A=function(){return e},e}function T(){var e=D(["\n    border: none;\n    height: 50px;\n    width: 100%;\n    background-color: #fff;\n    padding: 10px;\n    font-size: 16px;\n    border-bottom: ",";\n"]);return T=function(){return e},e}function q(){var e=D(["\n    width: 500px;\n    display: flex;\n    flex-direction: column;\n    max-height: 600px;\n    overflow: auto;\n    background: rgba(0, 0, 0, 0.4);\n"]);return q=function(){return e},e}function D(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var _=s.a.div(q()),z=s.a.input(T(),function(e){return!e.noBorder&&"1px solid #d7d7d7"}),B=s.a.div(A()),F=s.a.div(C()),M=Object(d.SortableContainer)(function(e){var n=e.processes,t=e.deleteProcess,r=e.addChildren,a=e.updateProcess;return i.a.createElement("div",null,n.map(function(e,n){return i.a.createElement("div",{key:n,index:n},i.a.createElement(E,{key:n,index:n,data:e,addChildren:r,deleteProcess:t,updateProcess:a}))}))}),I=function(){var e=k(Object(o.useState)(""),2),n=e[0],t=e[1],r=k(Object(o.useState)([]),2),a=r[0],c=r[1],u=k(Object(o.useState)({}),2),l=u[0],s=u[1];return i.a.createElement("div",{className:"ProcessManager max-width-container center margin-t-50 fcol"},i.a.createElement("h1",{className:"large"},"process manager"),i.a.createElement(_,{className:"margin-t-20"},i.a.createElement(z,{value:n,onChange:function(e){return t(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&e.target.value.length&&function(e){c([{id:m("process"),name:e,has_child:!1,children:[]}].concat(N(a))),t("")}(e.target.value.trim())},placeholder:"create a new process"}),!!a.length&&i.a.createElement(M,{useDragHandle:!0,addChildren:function(e,n){c(a.map(function(t){return t.id===e.id?S({},t,{has_child:!0,children:[{id:m(t.id),name:n}].concat(N(t.children))}):t}))},onSortEnd:function(e){var n=e.oldIndex,t=e.newIndex;return c(p()(a,n,t))},processes:a,deleteProcess:function(e){return c(a.filter(function(n){return n.id!==e.id}))},updateProcess:function(e,n){return c(a.map(function(t){return t.id===e.id?S({},t,{name:n}):t}))}})),!!a.length&&i.a.createElement(B,null,i.a.createElement(F,{className:"center pointer",onClick:function(){return s({data:a})}},"Create JSON")),i.a.createElement("p",{className:"margin-t-10"},JSON.stringify(l)))},K=function(){return i.a.createElement("div",null,i.a.createElement(I,null))},H=t(5),J=t(9),L=process.env.PORT||8e3,R=t(5),G=a()();G.get("/",function(e,n,t){var r=new l.ServerStyleSheet,a=H.resolve("dist/index.html");J.readFile(a,"utf8",function(e,t){if(e)return console.error("err",e),n.status(404).end();var a=u.a.renderToString(i.a.createElement(K,null)),o=r.getStyleTags();return n.send(t.replace('<div id="root"></div>','<div id="root">'.concat(a,"</div>").concat(o)))})}),G.use(a.a.static(R.resolve("dist"))),G.listen(L,function(e){if(e)return console.log("Could not start the app",e);console.log("Listening on "+L+"...")})}]);